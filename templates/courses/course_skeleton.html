{% extends "base.html" %}




{% block content %}

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <script>
        $(document).ready(function(){

            console.log("in the function :)");
            $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
                localStorage.setItem('course_tab', $(e.target).attr('href'));
            });
            var activeTab = localStorage.getItem('course_tab');
            if(activeTab){
                $('#Manage_site_tabs a[href="' + activeTab + '"]').tab('show');
            }
        });

        $(document).ready(function(){

            console.log("in the function :)");
            $('a[data-bs-toggle="tab"]').on('show.bs.tab', function(e) {
                localStorage.setItem('manage_course_tab', $(e.target).attr('href'));
            });
            var activeTab = localStorage.getItem('manage_course_tab');
            if(activeTab){
                $('#manage_course_tabs a[href="' + activeTab + '"]').tab('show');
            }
        });
    </script>

</head>

<body>
    <div class="card col-md-8" style="margin:auto;">

        <div class="card-header"><h1>{{ course_data['department']['code'] ~ course_data['course_num'] }}: {{ course_data['course_name'] }}</h1></div>

        <ul class="nav nav-tabs" id="Manage_site_tabs">
            <li class="nav-item">
                <a href="#Overview" class="nav-link active" data-toggle="tab">Overview</a>
            </li>

            <li class="nav-item">
                <a href="#Notes" class="nav-link" data-toggle="tab">Notes</a>
            </li>

            <li class="nav-item">
                <a href="#Assignments" class="nav-link" data-toggle="tab">Assignments</a>
            </li>
            
            <li class="nav-item">
                <a href="#Quizzes" class="nav-link" data-toggle="tab">Quizzes</a>
            </li>
            
            <li class="nav-item">
                <a href="#Projects" class="nav-link" data-toggle="tab">Projects</a>
            </li>
            {% if session['admin'] %}
                <li class="nav-item">
                    <a href="#ManageCourse" class="nav-link" data-toggle="tab">Manage Course</a>
                </li>

            {% endif %}
<!-- 
            <li class="nav-item">
                <a href="#ManageBugReports" class="nav-link" data-bs-toggle="tab">Bug Reports</a>
            </li> -->
        </ul>
        <div class="tab-content">
            <div class="tab-pane show active" id="Overview">
                {% include "courses/user_course_templates/overview.html"%}
            </div>

            <div class="tab-pane fade" id="Notes">
                {% include "courses/user_course_templates/notes.html" %}
            </div>

            <div class="tab-pane fade" id="Assignments">
                {% include "courses/user_course_templates/assignments.html" %}
            </div>

            <div class="tab-pane fade" id="Quizzes">
                {% include "courses/user_course_templates/quizzes.html" %}
            </div>

            <div class="tab-pane fade" id="Projects">
                {% include "courses/user_course_templates/projects.html" %}
            </div>
            {% if session['admin'] %}

            <div class="tab-pane fade" id="ManageCourse">
                {% include "courses/manage_course_templates/manage_course_tabs.html" %}
                <div class="tab-content">
                    <div class="tab-pane show active" id="ManageOverview">
                        {% include "courses/manage_course_templates/manage_overview.html" %}
                    </div>
                    <div class="tab-pane fade" id="ManageUsers">
                        {% include "courses/manage_course_templates/manage_users.html" %}
                    </div>

                    <div class="tab-pane fade" id="ManageNotes">
                        {% include "courses/manage_course_templates/manage_notes.html" %}
                    </div>
        
                    <div class="tab-pane fade" id="ManageAssignments">
                        {% include "courses/manage_course_templates/manage_assignments.html" %}
                    </div>
        
                    <div class="tab-pane fade" id="ManageQuizzes">
                        {% include "courses/manage_course_templates/manage_quizzes.html" %}
                    </div>
        
                    <div class="tab-pane fade" id="ManageProjects">
                        {% include "courses/manage_course_templates/manage_projects.html" %}
                    </div>
                </div>
            
            </div>

            {% endif %}
        </div>
    </div>
</body>




{% endblock %} 

